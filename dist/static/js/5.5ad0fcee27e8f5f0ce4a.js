webpackJsonp([5],{"8stH":function(t,e,s){"use strict";e.b=function(t){var e=l.a.baseUrl+"/search/suggest?keywords="+t;return a.a.get(e)},e.a=function(t,e,s){var r=s||0,n=e||1,i=l.a.baseUrl+"/search?keywords="+t+"&offset="+20*r+"&type="+n+"&limit=20";return a.a.get(i)};var r=s("mtWM"),a=s.n(r),l=s("T452")},Af1m:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=s("//Fk"),a=s.n(r),l=s("Dd8w"),n=s.n(l),i=s("6/vo"),u=s("l5jC"),c=s("2GDs"),o=s("q2Nu"),d=s("JjCd"),h=s("NYxO"),p=s("8stH"),f={components:{Scroll:i.a,Navigator:u.a,Loading:c.a,Cell:o.a,SongCell:d.a},data:function(){return{id:this.$route.params.id,currentTabIndex:1,pullUpLoad:{threshold:50}}},computed:n()({},Object(h.e)(["searchKeyWords","searchResult"])),methods:n()({isCurrent:function(t){return t===this.currentTabIndex},change:function(t){void 0!==t&&(this.currentTabIndex=t.id,this.$router.replace("/search/"+t.id))},_getSearchResult:function(){var t=this;return new a.a(function(e,s){var r=t.searchKeyWords,a=t.id,l=t.searchResult.find(function(e){return e.id===parseInt(t.id,10)});if(l){var n=l.page;Object(p.a)(r,a,n).then(function(s){n++;var r={id:t.id,page:n,data:s.data.result[l.key]};console.log(s),e(r)}).catch(function(t){s(t)})}})},initSearchResult:function(){var t=this;this.searchResult.find(function(e){return e.id===parseInt(t.id,10)}).result.length||this._getSearchResult().then(function(e){t.addSearchResultData(e)})},loadmore:function(){var t=this;this._getSearchResult().then(function(e){t.addSearchResultData(e)}).catch(function(){t.$refs["scroll-"+t.id].forceUpdate()})}},Object(h.b)(["setSearchResultData","addSearchResultData","clearSearchResultData","addSearchHistory"])),created:function(){this.searchKeyWords||this.$router.push("/search")},mounted:function(){var t=this;setTimeout(function(){t.currentTabIndex=parseInt(t.id,10)},20),this.searchKeyWords&&(this.initSearchResult(),this.addSearchHistory(this.searchKeyWords))},beforeDestroy:function(){},watch:{searchKeyWords:function(t){""===t&&this.$router.push("/search")},$route:function(t){this.id=t.params.id,this.initSearchResult()}}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-result-scroll"},[t.searchKeyWords?s("div",{ref:"viewport",staticClass:"navigator-container"},[s("navigator",{attrs:{navList:t.searchResult,currentTabIndex:t.currentTabIndex},on:{change:t.change},scopedSlots:t._u([{key:"item",fn:function(e){return s("span",{staticClass:"tab-name",class:{"link-active":t.isCurrent(e.index)}},[t._v(t._s(e.text))])}}])})],1):t._e(),t._v(" "),t.searchKeyWords?s("div",{staticClass:"tab-render-content"},[1==t.id?s("scroll",{ref:"scroll-1",staticClass:"result-list songs-result",attrs:{data:t.searchResult[0].result,pullUpLoad:t.pullUpLoad},on:{pullingUp:t.loadmore}},[s("ul",t._l(t.searchResult[0].result,function(e,r){return s("li",{staticClass:"result-list-item"},[s("song-cell",{attrs:{tit:e.name,song:e}},[s("div",{attrs:{slot:"sub-tit"},slot:"sub-tit"},[s("span",t._l(e.artists,function(e){return s("span",{staticClass:"item-info-artist"},[t._v(t._s(e.name))])})),t._v("\n                - "),s("span",[t._v(t._s(e.album.name))])])])],1)})),t._v(" "),t.searchResult[0].result.length?t._e():s("loading")],1):t._e(),t._v(" "),100==t.id?s("scroll",{ref:"scroll-100",staticClass:"result-list artists-result",attrs:{pullUpLoad:t.pullUpLoad},on:{pullingUp:t.loadmore}},[t.searchResult[1].result.length?t._e():s("loading"),t._v(" "),s("ul",t._l(t.searchResult[1].result,function(e){return s("li",[s("router-link",{attrs:{to:"/singer/"+e.id}},[s("cell",{attrs:{iconUrl:e.img1v1Url}},[s("div",{attrs:{slot:"tit"},slot:"tit"},[t._v(t._s(e.name)+" "),t._l(e.alia,function(e){return s("span",{key:e},[t._v("("+t._s(e)+")")])})],2)])],1)],1)}))],1):t._e(),t._v(" "),10==t.id?s("scroll",{ref:"scroll-10",staticClass:"result-list albums-result",attrs:{pullUpLoad:t.pullUpLoad},on:{pullingUp:t.loadmore}},[t.searchResult[2].result.length?t._e():s("loading"),t._v(" "),s("ul",t._l(t.searchResult[2].result,function(t){return s("li",[s("router-link",{attrs:{to:"/album/"+t.id}},[s("cell",{staticClass:"albums-cell",attrs:{iconUrl:t.blurPicUrl,tit:t.name,"sub-tit":t.artist.name}})],1)],1)}))],1):t._e(),t._v(" "),1e3==t.id?s("scroll",{ref:"scroll-1000",staticClass:"result-list playlists-result",attrs:{pullUpLoad:t.pullUpLoad},on:{pullingUp:t.loadmore}},[t.searchResult[3].result.length?t._e():s("loading"),t._v(" "),s("ul",t._l(t.searchResult[3].result,function(t){return s("li",[s("router-link",{attrs:{to:"/playlist/"+t.id}},[s("cell",{attrs:{iconUrl:t.coverImgUrl,tit:t.name,"sub-tit":t.trackCount+"首音乐 by "+t.creator.nickname+"，播放"+t.playCount+"次"}})],1)],1)}))],1):t._e(),t._v(" "),1002==t.id?s("scroll",{ref:"scroll-1002",staticClass:"result-list userprofiles-result",attrs:{pullUpLoad:t.pullUpLoad},on:{pullingUp:t.loadmore}},[t.searchResult[4].result.length?t._e():s("loading"),t._v(" "),s("ul",t._l(t.searchResult[4].result,function(t){return s("li",[s("router-link",{attrs:{to:"/user/"+t.userId}},[s("cell",{staticClass:"user-cell",attrs:{iconUrl:t.avatarUrl,tit:t.nickname,"sub-tit":t.signature}})],1)],1)}))],1):t._e()],1):t._e()])},staticRenderFns:[]};var v=s("VU/8")(f,_,!1,function(t){s("ZOGG")},"data-v-73815ae0",null);e.default=v.exports},ZOGG:function(t,e){}});