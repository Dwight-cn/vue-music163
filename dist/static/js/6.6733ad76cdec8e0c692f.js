webpackJsonp([6],{"EZQ+":function(e,s,r){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=r("OKRz"),t=r("l5jC"),i=r("6/vo"),n=r("q2Nu"),l=r("2sCs"),u=r.n(l),o=r("T452");var c={name:"User",components:{myHeader:a.a,Navigator:t.a,Scroll:i.a,Cell:n.a},data:function(){return{userid:this.$route.params.id,user:null,userPlaylist:[],tabs:[{id:0,name:"音乐"},{id:2,name:"关于TA"}],currentTabIndex:0}},methods:{_initUser:function(){this._getUserDetail(),this._getUserPlaylist()},_getUserDetail:function(){var e,s,r=this;(e=this.userid,s=o.a.baseUrl+"/user/detail?uid="+e,u.a.get(s)).then(function(e){r.user=e.data}).catch(function(e){console.log(e)})},_getUserPlaylist:function(){var e,s,r=this;(e=this.userid,s=o.a.baseUrl+"/user/playlist?uid="+e,u.a.get(s)).then(function(e){r.userPlaylist=e.data.playlist}).catch(function(e){console.log(e)})},change:function(e){void 0!==e&&(this.currentTabIndex=e.id)},genderClass:function(e){var s="";return e&&(s=1===e?"icon-nan":"icon-nv"),s}},created:function(){this._initUser()},mounted:function(){}},v={render:function(){var e=this,s=e.$createElement,r=e._self._c||s;return r("div",{staticClass:"user"},[r("my-header",{staticClass:"user-header"}),e._v(" "),r("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.user?e.user.profile.backgroundUrl:"",expression:"user ? user.profile.backgroundUrl : ''",arg:"background-image"}],ref:"bgImageRef",staticClass:"user-bg"}),e._v(" "),r("div",{staticClass:"user-con"},[r("scroll",{staticClass:"user-scroll"},[r("div",{staticClass:"user-info"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.user?e.user.profile.avatarUrl:"",expression:"user ? user.profile.avatarUrl : ''"}],staticClass:"user-avatar",attrs:{alt:""}}),e._v(" "),r("h2",{staticClass:"user-nickname"},[e._v(e._s(e.user?e.user.profile.nickname:"")+" "),r("i",{staticClass:"iconfont",class:e.user?e.genderClass(e.user.profile.gender):""})]),e._v(" "),r("h3",{staticClass:"user-follow"},[e._v("关注 "+e._s(e.user?e.user.profile.follows:"")+"　|　粉丝 "+e._s(e.user?e.user.profile.followeds:""))])]),e._v(" "),r("div",{ref:"viewport",staticClass:"navigator-container"},[r("navigator",{attrs:{navList:e.tabs,currentTabIndex:e.currentTabIndex},on:{change:e.change}})],1),e._v(" "),r("div",{staticClass:"tab-container"},[r("div",{directives:[{name:"show",rawName:"v-show",value:0===e.currentTabIndex,expression:"currentTabIndex === 0"}]},[r("p",{staticClass:"list-label"},[e._v("歌单")]),e._v(" "),e.userPlaylist.length?r("ul",e._l(e.userPlaylist,function(s){return s.userId===e.user.profile.userId?r("li",[r("router-link",{attrs:{to:"/playlist/"+s.id}},[r("cell",{attrs:{iconUrl:s.coverImgUrl,tit:s.name,"sub-tit":s.trackCount+"首音乐 by "+s.creator.nickname+"，播放"+s.playCount+"次"}})],1)],1):e._e()})):e._e(),e._v(" "),r("p",{staticClass:"list-label"},[e._v("收藏的歌单")]),e._v(" "),e.userPlaylist.length?r("ul",e._l(e.userPlaylist,function(s){return s.userId!==e.user.profile.userId?r("li",[r("router-link",{attrs:{to:"/playlist/"+s.id}},[r("cell",{attrs:{iconUrl:s.coverImgUrl,tit:s.name,"sub-tit":s.trackCount+"首音乐 by "+s.creator.nickname+"，播放"+s.playCount+"次"}})],1)],1):e._e()})):e._e()]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:1===e.currentTabIndex,expression:"currentTabIndex === 1"}]},[e._v("\n          动态\n        ")]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:2===e.currentTabIndex,expression:"currentTabIndex === 2"}]},[r("div",{staticClass:"user-info-item"},[r("h3",[e._v("个人信息")]),e._v(" "),r("p",[e._v("等级："+e._s(e.user.level))]),e._v(" "),r("p",[e._v("性别："+e._s(1===e.user.profile.gender?"男":"女"))]),e._v(" "),r("p")]),e._v(" "),r("div",{staticClass:"user-info-item"},[r("h3",[e._v("个人简介")]),e._v(" "),e.user.profile.signature?r("p",[e._v(e._s(e.user.profile.signature))]):r("p",[e._v("暂无简介")])])])])])],1)],1)},staticRenderFns:[]};var d=r("X4nt")(c,v,!1,function(e){r("a/Gk")},"data-v-53f360c6",null);s.default=d.exports},"a/Gk":function(e,s){}});
//# sourceMappingURL=6.6733ad76cdec8e0c692f.js.map