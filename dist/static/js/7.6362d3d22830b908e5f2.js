webpackJsonp([7],{"79fD":function(t,n){},wATI:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e("IHPB"),i=e.n(s),r=e("4YfN"),a=e.n(r),l=e("OKRz"),o=e("6/vo"),c=e("l5jC"),g=e("2GDs"),u=e("q2Nu"),d=e("JjCd"),f=e("9rMa"),h=e("2sCs"),b=e.n(h),v=e("T452");var m={mixins:[e("5jRo").a],components:{myHeader:l.a,Scroll:o.a,Navigator:c.a,Loading:g.a,Cell:u.a,SongCell:d.a},data:function(){return{singerid:this.$route.params.id,singer:null,hotSongs:[],hotAlbums:[],singerDesc:[],scrollY:0,currentTabIndex:0,tabs:[{id:0,name:"热门50"},{id:1,name:"专辑"},{id:2,name:"歌手信息"}],scrollTopDist:0}},computed:a()({},Object(f.e)(["searchResult"])),methods:{findSingerById:function(t,n){return t.find(function(t){return t.id&&t.id===Number(n)})},initSinger:function(){this._getSingerInfo(),this._getSingerSongs(),this._getSingerAlbum(),this._getSingerDesc()},_getSingerInfo:function(){var t=this.findSingerById(this.searchResult[1].result,this.singerid);t&&(this.singer=t)},_getSingerSongs:function(){var t,n,e=this;(t=this.singerid,n=v.a.baseUrl+"/artists?id="+t,b.a.get(n)).then(function(t){200===t.data.code&&(e.hotSongs=t.data.hotSongs,e.singer=t.data.artist,console.log(t.data.hotSongs))}).catch(function(t){console.log(t)})},_getSingerAlbum:function(t){var n=this;(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=v.a.baseUrl+"/artist/album?id="+t+"&offset="+n;return b.a.get(e)})(this.singerid,t).then(function(t){n.hotAlbums=[].concat(i()(n.hotAlbums),i()(t.data.hotAlbums))}).catch(function(t){console.log(t)})},_getSingerDesc:function(){var t,n,e=this;(t=this.singerid,n=v.a.baseUrl+"/artist/desc?id="+t,b.a.get(n)).then(function(t){e.singerDesc=t.data.introduction}).catch(function(t){console.log(t)})},change:function(t){void 0!==t&&(this.currentTabIndex=t.id)},scroll:function(t){this.scrollY=t.y},splitDesc:function(t){return t.split("\n")}},created:function(){this.probeType=3,this.listenScroll=!0,this.initSinger()},mounted:function(){this.scrollTopDist=window.parseFloat(getComputedStyle(this.$refs.sfiref).paddingTop)},watch:{scrollY:function(t){var n=1,e=0,s=Math.abs(t/400);t>0?(n=1+s,this.$refs.bgImageRef.style.transform="scale("+n+")",this.$refs.bgImageRef.style.webkitTransform="scale("+n+")"):t<=0&&t>-this.scrollTopDist&&(e=Math.min(10*s,5),this.$refs.bgImageRef.style["-webkit-filter"]="blur("+e+"px)")}}},_={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"singer"},[t.singer?e("div",[e("my-header",{staticClass:"singer-header",attrs:{title:t.singer.name}}),t._v(" "),e("div",{ref:"bgImageRef",staticClass:"singer-img",style:"background-image:url("+t.singer.img1v1Url+");"}),t._v(" "),e("div",{staticClass:"singer-info"},[e("scroll",{staticClass:"singer-info-scroll",attrs:{"probe-type":t.probeType,"listen-scroll":t.listenScroll},on:{scroll:t.scroll}},[e("div",{ref:"sfiref",staticClass:"singer-info-inner"},[e("div",{ref:"viewport",staticClass:"navigator-container"},[e("navigator",{attrs:{navList:t.tabs,currentTabIndex:t.currentTabIndex},on:{change:t.change}})],1),t._v(" "),e("div",{staticClass:"tab-container"},[0===t.currentTabIndex&&t.hotSongs?e("ul",[e("li",{on:{click:function(n){t._playAll(t.hotSongs)}}},[e("cell",{staticClass:"play-all"},[e("i",{staticClass:"iconfont icon-play",attrs:{slot:"left"},slot:"left"}),t._v(" "),e("div",{attrs:{slot:"tit"},slot:"tit"},[t._v("播放全部"),e("span",[t._v("（共"+t._s(t.hotSongs.length)+"首）")])])])],1),t._v(" "),t._l(t.hotSongs,function(t,n){return e("li",{key:t.id},[e("song-cell",{attrs:{tit:t.name,"sub-tit":t.al.name,index:n+1}})],1)})],2):t._e(),t._v(" "),1===t.currentTabIndex?e("ul",t._l(t.hotAlbums,function(t){return e("li",{key:t.id},[e("router-link",{attrs:{to:"/album/"+t.id}},[e("cell",{staticClass:"albums-cell",attrs:{iconUrl:t.blurPicUrl,tit:t.name,"sub-tit":t.artist.name}})],1)],1)})):t._e(),t._v(" "),2===t.currentTabIndex?e("ul",{staticClass:"singer-desc"},t._l(t.singerDesc,function(n){return e("li",[e("h3",[t._v(t._s(n.ti))]),t._v(" "),t._l(t.splitDesc(n.txt),function(n){return e("p",[t._v(t._s(n))])})],2)})):t._e()])])])],1)],1):t._e()])},staticRenderFns:[]};var p=e("X4nt")(m,_,!1,function(t){e("79fD")},"data-v-19f71bd0",null);n.default=p.exports}});
//# sourceMappingURL=7.6362d3d22830b908e5f2.js.map